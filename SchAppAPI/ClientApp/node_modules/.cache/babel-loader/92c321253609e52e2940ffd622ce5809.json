{"ast":null,"code":"import _objectSpread from\"/Users/mac/Documents/Codes/Dotnet Project/ihsApi/ihsapi/ClientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/Users/mac/Documents/Codes/Dotnet Project/ihsApi/ihsapi/ClientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Users/mac/Documents/Codes/Dotnet Project/ihsApi/ihsapi/ClientApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import axios from'axios';import'./Login.css';import{Link,Redirect}from'react-router-dom';import{apiUrl}from'../../config';import IhsAlert from'../Utils/IhsAlert';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var initialValues={Email:'',Password:''};var axiosConfig={headers:{'Access-Control-Allow-Origin':'*'}};var _useState=useState(initialValues),_useState2=_slicedToArray(_useState,2),info=_useState2[0],setInfo=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),successLogin=_useState4[0],setSuccessLogin=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),failureLogin=_useState6[0],setFailureLogin=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),dashBoardRedirect=_useState8[0],setDashBoardRedirect=_useState8[1];var handleInputChange=function handleInputChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;var fieldValue=_defineProperty({},name,value);setInfo(_objectSpread(_objectSpread({},info),fieldValue));};var handleSubmit=function handleSubmit(e){e.preventDefault();//console.log(info)\nvar proxyUrl=apiUrl+\"authenticate/login\";axios.post(proxyUrl,info,axiosConfig).then(function(res){console.log(res);if(res.data.isLoggedIn){setSuccessLogin(true);var data={isLoggedIn:res.data.isLoggedIn,token:res.data.token};// sessionStorage.setItem('userLoggedIn', res.data.isLoggedIn);\nsessionStorage.setItem('user',JSON.stringify(data));setDashBoardRedirect(true);// window.location.reload(false)\n}else{//setLoading(false)\nsetFailureLogin(true);}}).catch(function(e){console.log(e);setFailureLogin(true);//setLoading(false)\n});};if(dashBoardRedirect){return/*#__PURE__*/_jsx(Redirect,{push:true,to:\"/teacher\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"home__hero-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"rowwer home__hero-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"column gradcolor\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"home__hero-text-wrapper\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"assets/images/womenInTech.png\",alt:\"TechWomen\",className:\"home__hero-design\"}),/*#__PURE__*/_jsx(\"div\",{className:\"top-line\",children:\" Bring home the magic of camp with Mission-T Summer Training Program \"}),/*#__PURE__*/_jsx(\"p\",{className:\"home__hero-subtitle\",children:\"The IHS Summer Training Program implemented by TechQuest STEM Academy is intended for students and Teachers.\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"column signin_column\",children:[successLogin?/*#__PURE__*/_jsx(IhsAlert,{error:false,message:\"Login Successful\"}):null,failureLogin?/*#__PURE__*/_jsx(IhsAlert,{error:true,message:\"Invalid login details\"}):null,/*#__PURE__*/_jsx(\"h4\",{children:\"Sign In\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Welcome, Admin\"}),/*#__PURE__*/_jsx(\"p\",{children:\" You can now login into your dashboard with your email and password.\"}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{className:\"form-horizontal\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"email\",name:\"Email\",placeholder:\"Email\",value:info.Email,onChange:handleInputChange,required:\"Email is required\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",name:\"Password\",value:info.Password,placeholder:\"Password\",onChange:handleInputChange,required:\"Password is required\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-3\",children:/*#__PURE__*/_jsx(\"button\",{style:{color:'#fff'},className:\"btn btn-pri btn-block waves-effect waves-light\",type:\"submit\",children:\"Sign In\"})})]})})]})]})});}export default Login;","map":{"version":3,"sources":["/Users/mac/Documents/Codes/Dotnet Project/ihsApi/ihsapi/ClientApp/src/components/Login/Login.js"],"names":["React","useState","axios","Link","Redirect","apiUrl","IhsAlert","Login","initialValues","Email","Password","axiosConfig","headers","info","setInfo","successLogin","setSuccessLogin","failureLogin","setFailureLogin","dashBoardRedirect","setDashBoardRedirect","handleInputChange","e","target","name","value","fieldValue","handleSubmit","preventDefault","proxyUrl","post","then","res","console","log","data","isLoggedIn","token","sessionStorage","setItem","JSON","stringify","catch","color"],"mappings":"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","sourcesContent":["import React,{useState} from 'react'\nimport axios from 'axios'\nimport './Login.css'\nimport { Link, Redirect } from 'react-router-dom'\nimport {apiUrl} from '../../config'\nimport IhsAlert from '../Utils/IhsAlert'\n\nfunction Login() {\n\n    const initialValues = {\n        Email:'',\n        Password: ''\n    }\n\n    let axiosConfig = {\n        headers: {\n            'Access-Control-Allow-Origin': '*'\n        }\n    };\n\n    const [info, setInfo] = useState(initialValues);\n    const [successLogin, setSuccessLogin] = useState(false);\n    const [failureLogin, setFailureLogin] = useState(false);\n    const [dashBoardRedirect, setDashBoardRedirect] = useState(false)\n\n    const handleInputChange = (e) => {\n        const {name, value} = e.target\n        const fieldValue =   {[name]: value}\n        setInfo({  \n            ...info,\n            ...fieldValue \n        })\n    }\n\n    const handleSubmit = e =>{\n        e.preventDefault()\n        //console.log(info)\n        const proxyUrl = apiUrl + \"authenticate/login\"\n        \n        axios.post(proxyUrl,info,axiosConfig)\n            .then(res => {\n                console.log(res)\n                if(res.data.isLoggedIn){\n                    setSuccessLogin(true)\n                    var data={\n                        isLoggedIn:res.data.isLoggedIn,\n                        token:res.data.token,\n                    }\n                    // sessionStorage.setItem('userLoggedIn', res.data.isLoggedIn);\n                    sessionStorage.setItem('user',JSON.stringify(data));\n                    setDashBoardRedirect(true)\n                    // window.location.reload(false)\n                }\n                else{\n                    //setLoading(false)\n                    setFailureLogin(true)\n                }\n\n            })\n            .catch(e => {\n                console.log(e)\n                setFailureLogin(true)\n                //setLoading(false)\n            })\n         \n    }\n\n    if(dashBoardRedirect){\n        return <Redirect push to='/teacher' />\n    }\n\n    return (\n        <div className=\"home__hero-section\">\n            <div className='rowwer home__hero-row'>\n                <div className=\"column gradcolor\">\n                    <div className='home__hero-text-wrapper'>\n                        <img src=\"assets/images/womenInTech.png\" alt='TechWomen' className=\"home__hero-design\" />\n                        <div className='top-line'> Bring home the magic of camp with Mission-T Summer Training Program </div>\n                        <p className=\"home__hero-subtitle\">\n                            The IHS Summer Training Program implemented by TechQuest STEM Academy is intended for students and Teachers. \n                        </p>\n                    </div>\n                </div>\n\n                <div className=\"column signin_column\">\n                    {successLogin ? <IhsAlert error={false} message=\"Login Successful\"/> : null}\n                    {failureLogin ? <IhsAlert error={true} message=\"Invalid login details\"/> : null}\n                    <h4>Sign In</h4>\n                    <h5>Welcome, Admin</h5>\n                    <p> You can now login into your dashboard with your email and password.</p>\n\n                    <div>\n                        <form className=\"form-horizontal\" onSubmit={handleSubmit}>\n                            <div className=\"form-group\">   \n                                <input type=\"text\" className=\"form-control\" id=\"email\" name=\"Email\" placeholder=\"Email\" \n                                    value={info.Email} onChange={handleInputChange} required=\"Email is required\"/>\n                            </div>\n                            <div className=\"form-group\">   \n                                <input type=\"password\" className=\"form-control\" id=\"password\" name=\"Password\" value={info.Password} \n                                    placeholder=\"Password\" onChange={handleInputChange} required=\"Password is required\"/>\n                            </div>\n                            <div className=\"mt-3\">\n                                <button style={{color:'#fff'}} className=\"btn btn-pri btn-block waves-effect waves-light\" type=\"submit\">Sign In</button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}